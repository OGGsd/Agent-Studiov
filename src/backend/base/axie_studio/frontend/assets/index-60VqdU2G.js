import{r as d,j as e,a8 as U,a9 as I,a3 as O,u as S,i as h,aa as V,K as j,L as v,M as N,ab as B,N as w,ac as t,X as C,ad as G,ae as X,af as H,_ as Z,a0 as K,a1 as W,a2 as q,I as _}from"./index-DiVU6Dbi.js";var P="Progress",y=100,[z,ie]=U(P),[J,Q]=z(P),L=d.forwardRef((s,a)=>{const{__scopeProgress:m,value:n=null,max:l,getValueLabel:x=Y,...c}=s;(l||l===0)&&!E(l)&&console.error(ee(`${l}`,"Progress"));const i=E(l)?l:y;n!==null&&!D(n,i)&&console.error(se(`${n}`,"Progress"));const o=D(n,i)?n:null,p=g(o)?x(o,i):void 0;return e.jsx(J,{scope:m,value:o,max:i,children:e.jsx(I.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":g(o)?o:void 0,"aria-valuetext":p,role:"progressbar","data-state":T(o,i),"data-value":o??void 0,"data-max":i,...c,ref:a})})});L.displayName=P;var M="ProgressIndicator",$=d.forwardRef((s,a)=>{const{__scopeProgress:m,...n}=s,l=Q(M,m);return e.jsx(I.div,{"data-state":T(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...n,ref:a})});$.displayName=M;function Y(s,a){return`${Math.round(s/a*100)}%`}function T(s,a){return s==null?"indeterminate":s===a?"complete":"loading"}function g(s){return typeof s=="number"}function E(s){return g(s)&&!isNaN(s)&&s>0}function D(s,a){return g(s)&&!isNaN(s)&&s<=a&&s>=0}function ee(s,a){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${y}\`.`}function se(s,a){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${y} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var k=L,ae=$;const f=d.forwardRef(({className:s,value:a,...m},n)=>e.jsx(k,{ref:n,className:O("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...m,children:e.jsx(ae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));f.displayName=k.displayName;const re={starter:"bg-blue-100 text-blue-800",professional:"bg-purple-100 text-purple-800",enterprise:"bg-gold-100 text-gold-800"},te={starter:"Starter",professional:"Professional",enterprise:"Enterprise"};function ne(){const[s,a]=d.useState(null),[m,n]=d.useState(!0),[l,x]=d.useState(!1),[c,i]=d.useState({username:"",password:"",confirmPassword:""}),[o,p]=d.useState(!1),A=S(r=>r.setSuccessData),b=S(r=>r.setErrorData);d.useEffect(()=>{setTimeout(()=>{const r={id:"user-123",username:"starter001@axiestudio.se",tier:"starter",account_number:1001,is_active:!0,created_at:"2025-01-15T10:00:00Z",last_login_at:"2025-01-24T08:30:00Z",plan_info:{tier:"starter",usage:{workflows:{current:12,limit:50,percentage:24},api_calls:{current:1250,limit:5e3,percentage:25},storage:{current_gb:.3,limit_gb:1,percentage:30}},limits:{max_workflows:50,max_api_calls_per_month:5e3,max_storage_gb:1,support_level:"Email",price_per_month:29}}};a(r),i({username:r.username,password:"",confirmPassword:""}),n(!1)},1e3)},[]);const R=()=>{x(!0)},F=async()=>{if(c.password&&c.password!==c.confirmPassword){b({title:"Password Mismatch",list:["Passwords do not match"]});return}p(!0);try{await new Promise(r=>setTimeout(r,1e3)),s&&a({...s,username:c.username}),A({title:"Profile Updated"}),x(!1)}catch{b({title:"Update Failed",list:["Failed to update profile"]})}finally{p(!1)}};return m?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Loading profile..."})}):s?e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Profile & Plan"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account and view usage"})]}),e.jsxs(h,{onClick:R,className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Edit Profile"]})]}),e.jsxs(j,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),"Account Information"]})}),e.jsx(w,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Username"}),e.jsx("div",{className:"text-lg",children:s.username})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Account Number"}),e.jsxs("div",{className:"text-lg",children:["#",s.account_number]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Plan"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:re[s.tier],children:te[s.tier]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["$",s.plan_info.limits.price_per_month,"/month"]})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(C,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Member Since"}),e.jsx("div",{className:"text-lg",children:new Date(s.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Last Login"}),e.jsx("div",{className:"text-lg",children:s.last_login_at?new Date(s.last_login_at).toLocaleDateString():"Never"})]})]})})]}),e.jsxs(j,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Usage & Limits"]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(t,{className:"text-sm font-medium",children:"Workflows"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.plan_info.usage.workflows.current," / ",s.plan_info.usage.workflows.limit===-1?"Unlimited":s.plan_info.usage.workflows.limit]})]}),e.jsx(f,{value:s.plan_info.usage.workflows.percentage,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(t,{className:"text-sm font-medium",children:"API Calls (This Month)"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.plan_info.usage.api_calls.current.toLocaleString()," / ",s.plan_info.usage.api_calls.limit.toLocaleString()]})]}),e.jsx(f,{value:s.plan_info.usage.api_calls.percentage,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx(t,{className:"text-sm font-medium",children:"Storage"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.plan_info.usage.storage.current_gb.toFixed(2),"GB / ",s.plan_info.usage.storage.limit_gb,"GB"]})]}),e.jsx(f,{value:s.plan_info.usage.storage.percentage,className:"h-2"})]})]})]}),e.jsxs(j,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Plan Details"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Support Level"}),e.jsxs("div",{className:"text-lg flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),s.plan_info.limits.support_level]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-medium text-gray-600",children:"Monthly Price"}),e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["$",s.plan_info.limits.price_per_month,"/month"]})]})]})})]}),e.jsx(Z,{open:l,onOpenChange:x,children:e.jsxs(K,{className:"max-w-md",children:[e.jsx(W,{children:e.jsx(q,{children:"Edit Profile"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"username",children:"Username"}),e.jsx(_,{id:"username",value:c.username,onChange:r=>i(u=>({...u,username:r.target.value})),placeholder:"Enter new username"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password",children:"New Password (optional)"}),e.jsx(_,{id:"password",type:"password",value:c.password,onChange:r=>i(u=>({...u,password:r.target.value})),placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(_,{id:"confirmPassword",type:"password",value:c.confirmPassword,onChange:r=>i(u=>({...u,confirmPassword:r.target.value})),placeholder:"Confirm new password"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(h,{onClick:F,disabled:o,children:o?"Saving...":"Save Changes"})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg text-red-600",children:"Failed to load profile"})})}export{ne as default};
